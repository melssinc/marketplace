<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmar Pago | Vitale</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- HEADER SIMPLIFICADO PARA PAGO -->
    <header class="header" style="border-bottom: none; padding: 15px 8%;">
        <div class="logo">Vitale</div>
        <div style="font-size: 14px; opacity: 0.8;">
            <i class="fas fa-lock"></i> Pago 100% seguro
        </div>
    </header>

    <main class="pago-container">
        
        <!-- PROGRESO DEL PEDIDO -->
        <div class="pago-progress">
            <div class="pago-step active">
                <div class="pago-step-number">1</div>
                <span>Resumen</span>
            </div>
            <div class="pago-step">
                <div class="pago-step-number">2</div>
                <span>Pago</span>
            </div>
            <div class="pago-step">
                <div class="pago-step-number">3</div>
                <span>Confirmación</span>
            </div>
        </div>

        <div class="pago-content">
            
            <!-- COLUMNA IZQUIERDA: RESUMEN DEL SERVICIO -->
            <div class="pago-summary">
                <h1 class="pago-title" id="titulo">Confirmar tu reserva</h1>
                <p class="pago-subtitle" id="descripcion">
                    Estás a un paso de conectar con un profesional verificado de Vitale.
                </p>

                <!-- DETALLES DEL SERVICIO (se llena con JavaScript) -->
                <div class="servicio-card">
                    <div class="servicio-header">
                        <div>
                            <h3 id="servicio-nombre">Entrenamiento Personalizado</h3>
                            <p class="servicio-categoria" id="servicio-categoria">Entrenador personal</p>
                        </div>
                        <div class="servicio-precio">
                            <span class="precio-actual">$5.000 CLP</span>
                            <span class="precio-antes">Antes $7.000 CLP</span>
                        </div>
                    </div>
                    
                    <div class="servicio-incluye">
                        <h4><i class="fas fa-check-circle"></i> Este servicio incluye:</h4>
                        <ul id="servicio-beneficios">
                            <li>Sesión individual de 60 minutos</li>
                            <li>Análisis inicial de objetivos</li>
                            <li>Plan personalizado adaptado a ti</li>
                            <li>Seguimiento por WhatsApp</li>
                            <li>Material de apoyo digital</li>
                        </ul>
                    </div>

                    <div class="servicio-garantia">
                        <i class="fas fa-shield-alt"></i>
                        <div>
                            <strong>Garantía Vitale</strong>
                            <p>Si no conectas con el profesional, te reembolsamos o te asignamos otro sin costo.</p>
                        </div>
                    </div>
                </div>

                <!-- INFORMACIÓN DEL CLIENTE -->
                <div class="info-cliente">
                    <h3><i class="far fa-user"></i> Tus datos de contacto</h3>
                    <p>Te contactaremos por WhatsApp para coordinar los detalles después del pago.</p>
                    
                    <form class="pago-form">
                        <div class="form-group">
                            <label>Nombre completo *</label>
                            <input type="text" placeholder="Ej: Ana García" required>
                        </div>
                        
                        <div class="form-group">
                            <label>WhatsApp *</label>
                            <input type="tel" placeholder="+56 9 1234 5678" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Correo electrónico *</label>
                            <input type="email" placeholder="tu@email.com" required>
                        </div>
                    </form>
                </div>
            </div>

            <!-- COLUMNA DERECHA: RESUMEN DE PAGO -->
            <div class="pago-sidebar">
                <div class="resumen-pago">
                    <h3><i class="fas fa-receipt"></i> Resumen del pago</h3>
                    
                    <div class="resumen-items">
                        <div class="resumen-item">
                            <span>Sesión individual</span>
                            <span>$5.000 CLP</span>
                        </div>
                        <div class="resumen-item">
                            <span>Verificación profesional</span>
                            <span>Gratis</span>
                        </div>
                        <div class="resumen-item">
                            <span>Soporte Vitale</span>
                            <span>Incluido</span>
                        </div>
                    </div>
                    
                    <div class="resumen-total">
                        <div class="resumen-item">
                            <strong>Total a pagar</strong>
                            <strong class="total-precio">$5.000 CLP</strong>
                        </div>
                        <small class="total-nota">IVA incluido · Pago único sin suscripción</small>
                    </div>

                    <!-- BOTÓN DE PAGO MEJORADO -->
                    <a href="https://mpago.la/2MHGKeP" target="_blank" class="btn-pago">
                        <i class="fas fa-lock"></i>
                        <div class="btn-pago-text">
                            <strong>Pagar ahora con Mercado Pago</strong>
                            <small>Procesamiento seguro · Pago instantáneo</small>
                        </div>
                        <i class="fas fa-arrow-right"></i>
                    </a>

                    <!-- MÉTODOS DE PAGO -->
                    <div class="metodos-pago">
                        <p><i class="fas fa-credit-card"></i> Aceptamos:</p>
                        <div class="metodos-icons">
                            <i class="fab fa-cc-visa"></i>
                            <i class="fab fa-cc-mastercard"></i>
                            <i class="fab fa-cc-amex"></i>
                            <i class="fas fa-university"></i>
                            <img src="https://http2.mlstatic.com/frontend-assets/ui-navigation/5.18.9/mercadopago/logo__small@2x.png" 
                                 alt="MercadoPago" style="height: 20px; margin-left: 5px;">
                        </div>
                    </div>

                    <!-- GARANTÍAS -->
                    <div class="garantias">
                        <div class="garantia-item">
                            <i class="fas fa-shield-check"></i>
                            <span>Pago 100% seguro SSL</span>
                        </div>
                        <div class="garantia-item">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Reembolso en 24h</span>
                        </div>
                        <div class="garantia-item">
                            <i class="fas fa-user-check"></i>
                            <span>Profesionales verificados</span>
                        </div>
                    </div>

                    <!-- PREGUNTAS FRECUENTES EN PAGO -->
                    <div class="pago-faq">
                        <h4><i class="far fa-question-circle"></i> Preguntas frecuentes</h4>
                        <details>
                            <summary>¿Qué pasa después de pagar?</summary>
                            <p>Recibirás un WhatsApp en menos de 15 minutos para coordinar día y hora de tu sesión.</p>
                        </details>
                        <details>
                            <summary>¿Puedo cancelar o cambiar?</summary>
                            <p>Sí, tienes 24 horas para cancelar con reembolso completo. Después, puedes reagendar sin costo.</p>
                        </details>
                        <details>
                            <summary>¿Cómo funciona la sesión?</summary>
                            <p>La sesión es por videollamada (Zoom/Meet) o presencial según tu ubicación y preferencia.</p>
                        </details>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER PARA PÁGINA DE PAGO -->
    <footer class="pago-footer">
        <div class="pago-footer-content">
            <div class="logo" style="margin-bottom: 10px;">Vitale</div>
            <p>Plataforma de conexión con profesionales de bienestar verificados</p>
            
            <div class="pago-footer-links">
                <a href="#">Términos de servicio</a> ·
                <a href="#">Política de privacidad</a> ·
                <a href="#">Soporte</a>
            </div>
            
            <p style="margin-top: 20px; font-size: 12px; opacity: 0.7;">
                <i class="fas fa-phone"></i> Soporte: +56 9 1234 5678 ·
                <i class="fas fa-envelope"></i> hola@vitale.com
            </p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Capturar parámetros de la URL
            const params = new URLSearchParams(window.location.search);
            const tipo = params.get("tipo");
            const servicio = params.get("servicio");
            
            // Elementos a actualizar
            const titulo = document.getElementById('titulo');
            const descripcion = document.getElementById('descripcion');
            const servicioNombre = document.getElementById('servicio-nombre');
            const servicioCategoria = document.getElementById('servicio-categoria');
            const servicioBeneficios = document.getElementById('servicio-beneficios');
            
            // Datos según el tipo de profesional
            const serviciosData = {
                entrenador: {
                    titulo: "Reserva tu entrenamiento personal",
                    descripcion: "Conecta con un entrenador certificado para mejorar tu rendimiento físico y alcanzar tus metas.",
                    categoria: "Entrenador personal",
                    beneficios: [
                        "Sesión individual de 60 minutos",
                        "Evaluación física inicial",
                        "Rutina personalizada para 4 semanas",
                        "Corrección de técnica en video",
                        "Soporte por WhatsApp durante 7 días"
                    ]
                },
                nutricionista: {
                    titulo: "Comienza tu plan nutricional",
                    descripcion: "Recibe orientación personalizada adaptada a tu estilo de vida, cultura alimentaria y objetivos.",
                    categoria: "Nutricionista",
                    beneficios: [
                        "Consulta inicial de 45 minutos",
                        "Análisis de hábitos alimenticios",
                        "Plan nutricional semanal",
                        "Lista de compras adaptada a tu país",
                        "Seguimiento por 2 semanas"
                    ]
                },
                psicologo: {
                    titulo: "Reserva tu sesión de bienestar",
                    descripcion: "Conecta con un profesional de salud mental para apoyo emocional, manejo de estrés y claridad.",
                    categoria: "Psicólogo/Coach",
                    beneficios: [
                        "Sesión confidencial de 50 minutos",
                        "Espacio seguro para expresarte",
                        "Herramientas prácticas para el día a día",
                        "Seguimiento semanal opcional",
                        "Material de apoyo en PDF"
                    ]
                },
                coach: {
                    titulo: "Sesión de coaching personal",
                    descripcion: "Desarrolla disciplina, enfoque y alcanza tus metas con un coach certificado.",
                    categoria: "Coach de disciplina",
                    beneficios: [
                        "Sesión de coaching de 60 minutos",
                        "Definición de metas SMART",
                        "Plan de acción semanal",
                        "Técnicas para mantener disciplina",
                        "Check-in a los 3 días"
                    ]
                }
            };
            
            // Actualizar contenido según parámetros
            if (tipo && serviciosData[tipo]) {
                const data = serviciosData[tipo];
                
                titulo.textContent = data.titulo;
                descripcion.textContent = data.descripcion;
                servicioCategoria.textContent = data.categoria;
                
                // Si hay un servicio específico en la URL, usarlo
                if (servicio) {
                    servicioNombre.textContent = decodeURIComponent(servicio);
                } else {
                    servicioNombre.textContent = data.categoria;
                }
                
                // Actualizar beneficios
                servicioBeneficios.innerHTML = '';
                data.beneficios.forEach(beneficio => {
                    const li = document.createElement('li');
                    li.textContent = beneficio;
                    servicioBeneficios.appendChild(li);
                });
            }
            
            // Validación básica del formulario
            const form = document.querySelector('.pago-form');
            const btnPago = document.querySelector('.btn-pago');
            
            form.addEventListener('input', function() {
                const inputs = form.querySelectorAll('input[required]');
                let allValid = true;
                
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        allValid = false;
                    }
                });
                
                // Actualizar el enlace de pago con datos del formulario
                if (allValid) {
                    btnPago.style.opacity = '1';
                    btnPago.style.cursor = 'pointer';
                    
                    // Aquí podrías agregar lógica para enviar datos a tu backend
                    // antes de redirigir a Mercado Pago
                } else {
                    btnPago.style.opacity = '0.7';
                    btnPago.style.cursor = 'not-allowed';
                }
            });
            
            // Manejar clic en botón de pago
            btnPago.addEventListener('click', function(e) {
                const inputs = form.querySelectorAll('input[required]');
                let allValid = true;
                
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        allValid = false;
                        input.style.borderColor = '#ff4757';
                    } else {
                        input.style.borderColor = '';
                    }
                });
                
                if (!allValid) {
                    e.preventDefault();
                    alert('Por favor completa todos los campos requeridos antes de pagar.');
                } else {
                    // Opcional: Guardar datos en localStorage o enviar a tu backend
                    const clienteData = {
                        nombre: form.querySelector('input[type="text"]').value,
                        whatsapp: form.querySelector('input[type="tel"]').value,
                        email: form.querySelector('input[type="email"]').value,
                        servicio: servicioNombre.textContent,
                        tipo: tipo,
                        fecha: new Date().toISOString()
                    };
                    
                    localStorage.setItem('vitale_cliente', JSON.stringify(clienteData));
                    
                    // El enlace a Mercado Pago se abrirá normalmente
                    console.log('Datos guardados:', clienteData);
                }
            });
        });
    </script>

    <style>
        /* ESTILOS ESPECÍFICOS PARA PAGO */
        .pago-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .pago-progress {
            display: flex;
            justify-content: center;
            margin: 40px 0 60px;
            gap: 40px;
        }
        
        .pago-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #666;
        }
        
        .pago-step.active {
            color: #0A84FF;
        }
        
        .pago-step-number {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #0b0b12;
            color: #aaa;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .pago-step.active .pago-step-number {
            background: #0A84FF;
            color: white;
        }
        
        .pago-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
        }
        
        .pago-title {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .pago-subtitle {
            color: #aaa;
            margin-bottom: 40px;
            font-size: 18px;
        }
        
        .servicio-card {
            background: #0b0b12;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.08);
        }
        
        .servicio-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
        }
        
        .servicio-categoria {
            color: #0A84FF;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .servicio-precio {
            text-align: right;
        }
        
        .precio-actual {
            font-size: 32px;
            font-weight: bold;
            color: #0A84FF;
            display: block;
        }
        
        .precio-antes {
            font-size: 14px;
            color: #aaa;
            text-decoration: line-through;
        }
        
        .servicio-incluye h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #f5f5f5;
        }
        
        .servicio-incluye ul {
            list-style: none;
            padding: 0;
        }
        
        .servicio-incluye li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
            color: #aaa;
        }
        
        .servicio-incluye li:before {
            content: "✓";
            color: #10b981;
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .servicio-garantia {
            display: flex;
            gap: 15px;
            background: rgba(10, 132, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            align-items: center;
        }
        
        .servicio-garantia i {
            font-size: 24px;
            color: #0A84FF;
        }
        
        .info-cliente {
            background: #0b0b12;
            border-radius: 16px;
            padding: 30px;
            margin-top: 30px;
        }
        
        .info-cliente h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .pago-form .form-group {
            margin-bottom: 20px;
        }
        
        .pago-form label {
            display: block;
            margin-bottom: 8px;
            color: #aaa;
        }
        
        .pago-form input {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            background: #050509;
            color: #f5f5f5;
            font-size: 15px;
        }
        
        /* SIDEBAR DE PAGO */
        .pago-sidebar {
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .resumen-pago {
            background: #0b0b12;
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255,255,255,0.08);
        }
        
        .resumen-pago h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .resumen-items {
            margin-bottom: 25px;
        }
        
        .resumen-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .resumen-total {
            margin: 25px 0;
            padding-top: 20px;
            border-top: 2px solid rgba(255,255,255,0.1);
        }
        
        .total-precio {
            font-size: 28px;
            color: #0A84FF;
        }
        
        .total-nota {
            display: block;
            margin-top: 5px;
            color: #aaa;
            font-size: 13px;
        }
        
        .btn-pago {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(135deg, #0A84FF, #0066cc);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-decoration: none;
            margin: 30px 0;
            transition: all 0.3s;
        }
        
        .btn-pago:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(10, 132, 255, 0.3);
        }
        
        .btn-pago-text {
            flex-grow: 1;
            margin: 0 15px;
        }
        
        .btn-pago-text small {
            display: block;
            font-size: 12px;
            opacity: 0.9;
            margin-top: 3px;
        }
        
        .metodos-pago {
            margin: 25px 0;
            padding: 20px 0;
            border-top: 1px solid rgba(255,255,255,0.08);
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        
        .metodos-pago p {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .metodos-icons {
            display: flex;
            gap: 15px;
            font-size: 28px;
            color: #aaa;
        }
        
        .garantias {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }
        
        .garantia-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            font-size: 12px;
            color: #aaa;
        }
        
        .garantia-item i {
            font-size: 20px;
            margin-bottom: 8px;
            color: #0A84FF;
        }
        
        .pago-faq {
            margin-top: 30px;
        }
        
        .pago-faq h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .pago-faq details {
            border-bottom: 1px solid rgba(255,255,255,0.05);
            padding: 12px 0;
        }
        
        .pago-faq summary {
            cursor: pointer;
            color: #aaa;
            font-weight: bold;
        }
        
        .pago-faq p {
            color: #888;
            font-size: 14px;
            margin-top: 8px;
            padding-left: 20px;
        }
        
        /* FOOTER DE PAGO */
        .pago-footer {
            text-align: center;
            padding: 40px 8%;
            margin-top: 60px;
            border-top: 1px solid rgba(255,255,255,0.08);
        }
        
        .pago-footer-links {
            margin: 15px 0;
        }
        
        .pago-footer-links a {
            color: #aaa;
            margin: 0 10px;
            text-decoration: none;
        }
        
        .pago-footer-links a:hover {
            color: #0A84FF;
        }
        
        /* RESPONSIVE */
        @media (max-width: 900px) {
            .pago-content {
                grid-template-columns: 1fr;
            }
            
            .pago-progress {
                gap: 20px;
            }
            
            .garantias {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }
        
        @media (max-width: 600px) {
            .servicio-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .servicio-precio {
                text-align: left;
            }
            
            .btn-pago {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .pago-progress {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
        }
    </style>

</body>
</html>
